;;;; Create SRFI repositories on Github
;;;;
;;;; based on download from srfi.schemers.org created using
;;;;   <wget --mirror srfi.schemers.org>

(load-option 'format)

;; Set this manually.
(define github-authorization-token #f)

(define github-api-srfi-repos
  "https://api.github.com/orgs/scheme-requests-for-implementation/repos")

(define-record-type srfi
    (%make-srfi number status title authors done-date draft-date)
    srfi?
  (number     srfi/number)
  (status     srfi/status)
  (title      srfi/title)
  (authors    srfi/authors)
  (done-date  srfi/done-date)
  (draft-date srfi/draft-date))		; final or withdrawn

(set-record-type-unparser-method!
 srfi
 (standard-unparser-method
  'srfi
  (lambda (srfi port)
    (write-char #\space port)
    (write (srfi/number srfi) port)
    (write-char #\space port)
    (write (srfi/title srfi) port))))

(define (make-srfi number status title authors draft-date #!optional done-date)
  (%make-srfi number
	      status
	      title
	      authors
	      (and (not (default-object? done-date))
		   done-date)
	      draft-date))

(define srfis
  (list
   (make-srfi 0 'final "Feature-based conditional expansion construct" "Marc Feeley" "1999/01/05" "1999/5/7")
   (make-srfi 1 'final "List Library" "Olin Shivers" "1998/12/22" "1999/10/9")
   (make-srfi 2 'final "AND-LET*: an AND with local bindings, a guarded LET* special form" "Oleg Kiselyov" "1998/12/28" "1999/3/1")
   (make-srfi 3 'withdrawn "List-Set Library" "Olin Shivers" "1999/1/12" "1999/08/26")
   (make-srfi 4 'final "Homogeneous numeric vector datatypes" "Marc Feeley" "1999/1/19" "1999/5/22")
   (make-srfi 5 'final "A compatible let form with signatures and rest arguments" "Andy Gaynor" "1999/2/10" "1999/4/26")
   (make-srfi 6 'final "Basic String Ports" "William D Clinger" "1999/04/26" "1999/7/1")
   (make-srfi 7 'final "Feature-based program configuration language" "Richard Kelsey" "1999/05/26" "1999/8/19")
   (make-srfi 8 'final "receive: Binding to multiple values" "John David Stone" "1999/07/01" "1999/8/30")
   (make-srfi 9 'final "Defining Record Types" "Richard Kelsey" "1999/07/07" "1999/9/9")
   (make-srfi 10 'final "#, external form" "Oleg Kiselyov" "1999/09/21" "2000/1/13")
   (make-srfi 11 'final "Syntax for receiving multiple values" "Lars T Hansen" "1999/09/14" "2000/3/15")
   (make-srfi 12 'withdrawn "Exception Handling" "William Clinger, R. Kent Dybvig, Matthew Flatt, and Marc Feeley" "1999/10/10" "2000/01/22")
   (make-srfi 13 'final "String Libraries" "Olin Shivers" "1999/10/18" "2000/12/28")
   (make-srfi 14 'final "Character-set Library" "Olin Shivers" "1999/10/30" "2000/12/28")
   (make-srfi 15 'withdrawn "Syntax for dynamic scoping." "Lars T Hansen" "1999/11/06" "03/10/2000")
   (make-srfi 16 'final "Syntax for procedures of variable arity." "Lars T Hansen" "1999/11/06" "2000/3/10")
   (make-srfi 17 'final "Generalized set!" "Per Bothner" "2000/01/16" "2000/7/24")
   (make-srfi 18 'final "Multithreading support" "Marc Feeley" "2000/02/07" "2001/3/14")
   (make-srfi 19 'final "Time Data Types and Procedures" "Will Fitzgerald" "2000/02/28" "2000/8/31")
   (make-srfi 20 'withdrawn "Simple object system." "Christian Queinnec" "2000/04/16" "2001/04/29")
   (make-srfi 21 'final "Real-time multithreading support" "Marc Feeley" "2000/05/12" "2001/3/2")
   (make-srfi 22 'final "Running Scheme Scripts on Unix" "Martin Gasbichler and Michael Sperber" "2001/03/08" "2002/1/20")
   (make-srfi 23 'final "Error reporting mechanism" "Stephan Houben" "2001/03/09" "2001/6/22")
   (make-srfi 24 'withdrawn "Define-syntax in local lexical scopes" "Antti Huima" "2001/06/25" "2002/04/12")
   (make-srfi 25 'final "Multi-dimensional Array Primitives" "Jussi Piitulainen" "2001/11/12" "2002/5/21")
   (make-srfi 26 'final "Notation for Specializing Parameters without Currying" "Sebastian Egner" "2002/02/06" "2002/2/14")
   (make-srfi 27 'final "Sources of Random Bits" "Sebastian Egner" "2002/02/12" "2002/6/3")
   (make-srfi 28 'final "Basic Format Strings " "Scott G. Miller" "2002/03/22" "2002/6/25")
   (make-srfi 29 'final "Localization " "Scott G. Miller" "2002/03/26" "2002/8/1")
   (make-srfi 30 'final "Nested Multi-line Comments" "Martin Gasbichler" "2002/04/12" "2002/8/7")
   (make-srfi 31 'final "A special form `rec' for recursive evaluation" "Mirko.Luedde@Computer.Org" "2002/05/24" "2002/12/2")
   (make-srfi 32 'withdrawn "Sort Libraries" "Olin Shivers" "2002/07/15" "2003/07/17")
   (make-srfi 33 'withdrawn "Integer Bitwise-operation Library" "Olin Shivers" "2002/07/15" "2003/07/17")
   (make-srfi 34 'final "Exception Handling for Programs" "Richard Kelsey and Michael Sperber" "2002/07/23" "2002/12/1")
   (make-srfi 35 'final "Conditions" "Richard Kelsey and Michael Sperber" "2002/07/23" "2002/12/1")
   (make-srfi 36 'final "I/O Conditions" "Michael Sperber" "2002/07/23" "2002/12/1")
   (make-srfi 37 'final "args-fold: a program argument processor" "Anthony Carrico" "2002/09/23" "2003/1/13")
   (make-srfi 38 'final "External Representation for Data With Shared Structure" "Ray Dillinger" "2002/12/16" "2003/4/2")
   (make-srfi 39 'final "Parameter objects" "Marc Feeley" "2002/12/21" "2003/6/30")
   (make-srfi 40 'final "A Library of Streams" "Philip L. Bewig" "2003/02/03" "2004/8/22")
   (make-srfi 41 'final "Streams" "Philip L. Bewig" "2007/10/21" "2008/1/24")
   (make-srfi 42 'final "Eager Comprehensions" "Sebastian Egner" "2003/02/20" "2003/7/7")
   (make-srfi 43 'final "Vector library" "Taylor Campbell" "2003/04/03" "2004/10/26")
   (make-srfi 44 'final "Collections" "Scott G. Miller" "2003/04/28" "2004/3/7")
   (make-srfi 45 'final "Primitives for Expressing Iterative Lazy Algorithms" "André van Tonder" "2003/09/23" "2004/4/5")
   (make-srfi 46 'final "Basic Syntax-rules Extensions" "Taylor Campbell" "2003/10/06" "2005/2/28")
   (make-srfi 47 'final "Array" "Aubrey Jaffer" "2003/11/11" "2004/6/14")
   (make-srfi 48 'final "Intermediate Format Strings" "Ken Dickey" "2003/11/25" "2004/3/2")
   (make-srfi 49 'final "Indentation-sensitive syntax" "Egil Möller" "2003/11/30" "2005/7/22")
   (make-srfi 50 'withdrawn "SRFI 50: Mixing Scheme and C" "Richard Kelsey and Michael Sperber" "2003/12/22" "2005/12/20")
   (make-srfi 51 'final "Handling rest list" "Joo ChurlSoo" "2004/01/18" "2004/6/7")
   (make-srfi 52 'withdrawn "Permitting and Supporting Extended Character Sets" "Thomas Lord (lord@emf.net aka lord@gnu.org)" "2004/02/09" "2004/06/17")
   (make-srfi 53 'withdrawn "Syntactic computations with computation-rules" "André van Tonder" "2004/03/16" "2004/09/06")
   (make-srfi 54 'final "Formatting" "Joo ChurlSoo" "2004/03/22" "2004/6/24")
   (make-srfi 55 'final "require-extension" "Felix L. Winkelmann and D.C. Frost" "2004/06/07" "2004/11/5")
   (make-srfi 56 'withdrawn "Binary I/O" "Alex Shinn" "2004/06/14" "2005/10/31")
   (make-srfi 57 'final "Records" "André van Tonder" "2004/09/08" "2005/3/7")
   (make-srfi 58 'final "Array Notation" "Aubrey Jaffer" "2004/11/26" "2005/3/8")
   (make-srfi 59 'final "Vicinity" "Aubrey Jaffer" "2004/12/30" "2005/3/8")
   (make-srfi 60 'final "Integers as Bits" "Aubrey Jaffer" "2005/01/03" "2005/3/8")
   (make-srfi 61 'final "A more general cond clause" "Taylor Campbell" "2005/01/03" "2005/7/21")
   (make-srfi 62 'final "S-expression comments" "Taylor Campbell" "2005/01/03" "2005/7/21")
   (make-srfi 63 'final "Homogeneous and Heterogeneous Arrays" "Aubrey Jaffer" "2005/01/17" "2005/4/27")
   (make-srfi 64 'final "A Scheme API for test suites" "Per Bothner" "2005/01/28" "2006/6/18")
   (make-srfi 65 'withdrawn "define-immutable: A Syntax to Define Identifiers With Immutable Values" "Andrew Wilcox" "2005/06/19" "2005/05/17")
   (make-srfi 66 'final "Octet Vectors" "Michael Sperber" "2005/03/11" "2005/12/15")
   (make-srfi 67 'final "Compare Procedures" "Sebastian Egner and Jens Axel Søgaard" "2005/04/05" "2005/9/11")
   (make-srfi 68 'withdrawn "Comprehensive I/O" "Michael Sperber" "2005/04/13" "2005/11/29")
   (make-srfi 69 'final "Basic hash tables" "Panu Kalliokoski" "2005/04/25" "2005/9/14")
   (make-srfi 70 'final "Numbers" "Aubrey Jaffer" "2005/05/15" "2005/9/11")
   (make-srfi 71 'final "Extended LET-syntax for multiple values" "Sebastian Egner" "2005/05/16" "2005/8/12")
   (make-srfi 72 'final "Hygienic macros." "André van Tonder" "2005/06/14" "2005/9/21")
   (make-srfi 73 'withdrawn "Exact Infinities" "Chongkai Zhu" "2005/06/19" "2005/11/30")
   (make-srfi 74 'final "Octet-Addressed Binary Blocks" "Michael Sperber" "2005/07/06" "2005/12/15")
   (make-srfi 75 'withdrawn "R6RS Unicode data" "Matthew Flatt and Marc Feeley" "2005/07/12" "2006/05/27")
   (make-srfi 76 'withdrawn "R6RS Records" "Will Clinger, R. Kent Dybvig, Michael Sperber, Anton van Straaten" "2005/09/12" "2006-04-24")
   (make-srfi 77 'withdrawn "Preliminary Proposal for R6RS Arithmetic" "William D Clinger and Michael Sperber" "2005/10/06" "2006/09/13")
   (make-srfi 78 'final "Lightweight testing" "Sebastian Egner" "2005/11/11" "2006/3/6")
   (make-srfi 79 'withdrawn "Primitive I/O" "Michael Sperber" "2005/11/24" "2006-11-16")
   (make-srfi 80 'withdrawn "Stream I/O" "Michael Sperber" "2005/11/24" "2006-11-20")
   (make-srfi 81 'withdrawn "Port I/O" "Michael Sperber" "2005/11/24" "2006-11-20")
   (make-srfi 82 'withdrawn "Stream Ports" "Michael Sperber" "2005/11/24" "2006-11-20")
   (make-srfi 83 'withdrawn "R6RS Library Syntax" "Matthew Flatt and Kent Dybvig" "2005/11/30" "2006/09/13")
   (make-srfi 84 'withdrawn "Universal Identifiers" "Andrew Wilcox" "2006/01/26" "2006/11/09")
   (make-srfi 85 'withdrawn "Recursive Equivalence Predicates" "William D Clinger" "2006/03/09" "2006/10/21")
   (make-srfi 86 'final "MU and NU simulating VALUES & CALL-WITH-VALUES, and their related LET-syntax" "Joo ChurlSoo" "2006/04/04" "2006/6/20")
   (make-srfi 87 'final "=> in case clauses" "Chongkai Zhu" "2006/04/10" "2006/10/18")
   (make-srfi 88 'final "Keyword objects" "Marc Feeley" "2006/04/10" "2007/7/3")
   (make-srfi 89 'final "Optional positional and named parameters" "Marc Feeley" "2006/04/10" "2007/7/10")
   (make-srfi 90 'final "Extensible hash table constructor" "Marc Feeley" "2006/04/12" "2007/7/10")
   (make-srfi 91 'withdrawn "Extended ports" "Marc Feeley" "2006/04/12" "2007/07/10")
   (make-srfi 92 'withdrawn "ALAMBDA and ALAMBDA*" "Joo ChurlSoo" "2006/05/21" "2007/04/09")
   (make-srfi 93 'withdrawn "R6RS Syntax-Case Macros" "Kent Dybvig" "2006/06/21" "2006/08/23")
   (make-srfi 94 'final "Type-Restricted Numerical Functions" "Aubrey Jaffer" "2006/09/14" "2007/1/30")
   (make-srfi 95 'final "Sorting and Merging" "Aubrey Jaffer" "2006/10/17" "2007/1/29")
   (make-srfi 96 'final "SLIB Prerequisites" "Aubrey Jaffer" "2007/11/19" "2008/7/7")
   (make-srfi 97 'final "SRFI Libraries" "David Van Horn" "2008/03/25" "2008/12/22")
   (make-srfi 98 'final "An interface to access environment variables." "Taro Minowa (Higepon)" "2008/07/06" "2008/9/19")
   (make-srfi 99 'final "ERR5RS Records" "William D Clinger" "2008/07/22" "2009/10/7")
   (make-srfi 100 'final "define-lambda-object" "Joo ChurlSoo" "2009/09/09" "2010/6/21")
   (make-srfi 101 'final "Purely Functional Random-Access Pairs and Lists" "David Van Horn" "2009/09/16" "2013/2/24")
   (make-srfi 102 'withdrawn "Procedure Arity Inspection" "David Van Horn" "2009/09/21" "2013/02/24")
   (make-srfi 103 'withdrawn "Library Files" "Derick Eddington" "2009/09/22" "2013/05/08")
   (make-srfi 104 'withdrawn "Library Files Utilities" "Derick Eddington" "2009/09/22" "2010/05/23")
   (make-srfi 105 'final "Curly-infix-expressions" "David A. Wheeler, Alan Manuel K. Gloria" "2012/08/22" "2012/11/6")
   (make-srfi 106 'final "Basic socket interface" "Takashi Kato" "2012/10/06" "2013/8/20")
   (make-srfi 107 'final "XML reader syntax" "Per Bothner" "2012/11/10" "2013/12/22")
   (make-srfi 108 'final "Named quasi-literal constructors" "Per Bothner" "2012/11/10" "2013/6/21")
   (make-srfi 109 'final "Extended string quasi-literals" "Per Bothner" "2012/11/10" "2013/6/21")
   (make-srfi 110 'final "Sweet-expressions (t-expressions)" "David A. Wheeler, Alan Manuel K. Gloria" "2013/03/06" "2013/9/9")
   (make-srfi 111 'final "Boxes" "John Cowan" "2013/04/25" "2013/7/3")
   (make-srfi 112 'final "Environment Inquiry" "John Cowan" "2013/05/05" "2013/9/12")
   (make-srfi 113 'final "Sets and bags" "John Cowan" "2013/06/01" "2014/11/28")
   (make-srfi 114 'final "Comparators" "John Cowan" "2013/06/15" "2014/3/31")
   (make-srfi 115 'final "Scheme Regular Expressions" "Alex Shinn" "2013/10/12" "2014/7/14")
   (make-srfi 116 'final "Immutable List Library" "John Cowan" "2014/09/08" "2014/11/28")
   (make-srfi 117 'final "Mutable Queues" "John Cowan" "2014/12/02" "2015/8/25")
   (make-srfi 118 'final "Simple adjustable-size strings" "Per Bothner" "2014/12/20" "2015/7/7")
   (make-srfi 119 'final "wisp: simpler indentation-sensitive scheme" "Arne Babenhauserheide" "2015/02/03" "2015/6/23")
   (make-srfi 120 'final "Timer APIs" "Takashi Kato" "2015/2/4" "2015/8/6")
   (make-srfi 121 'final "Generators" "Shiro Kawai, John Cowan, Thomas Gilray" "2015/01/27" "2016/1/18")
   (make-srfi 122 'final "Nonempty Intervals and Generalized Arrays" "Bradley J. Lucier" "2015/7/27" "2016/12/24")
   (make-srfi 123 'final "Generic accessor and modifier operators" "Taylan Ulrich Bayırlı/Kammer" "2015/8/15" "2015/10/14")
   (make-srfi 124 'final "Ephemerons" "John Cowan" "2015/9/6" "2015/11/6")
   (make-srfi 125 'final "Intermediate hash tables" "John Cowan, Will Clinger" "2015/9/7" "2015/5/28")
   (make-srfi 126 'final "R6RS-based hashtables" "Taylan Ulrich Bayırlı/Kammer" "2015/9/8" "2016/2/1")
   (make-srfi 127 'final "Lazy Sequences" "John Cowan" "2015/10/20" "2016/1/18")
   (make-srfi 128 'final "Comparators (reduced)" "John Cowan" "2015/10/26" "2016/2/14")
   (make-srfi 129 'final "Titlecase procedures" "John Cowan" "2015/11/30" "2016/3/8")
   (make-srfi 130 'final "Cursor-based string library" "John Cowan" "2015/12/3" "2016/5/28")
   (make-srfi 131 'final "ERR5RS Record Syntax (reduced)" "John Cowan, Will Clinger" "2015/12/7" "2016/2/13")
   (make-srfi 132 'final "Sort Libraries" "John Cowan (based on SRFI 32 by Olin Shivers)" "2015/12/9" "2016/4/20")
   (make-srfi 133 'final "Vector Library (R7RS-compatible)" "John Cowan (based on SRFI 43 by Taylor Campbell)" "2015/12/16" "2016/3/20")
   (make-srfi 134 'final "Immutable Deques" "Kevin Wortman, John Cowan" "2015/12/16" "2016/7/1")
   (make-srfi 135 'final "Immutable Texts" "William D Clinger" "2016/6/6" "2016/9/6")
   (make-srfi 136 'final "Extensible record types" "Marc Nieper-Wißkirchen" "2016/6/23" "2016/12/25")
   (make-srfi 137 'final "Minimal Unique Types" "John Cowan, Marc Nieper-Wißkirchen" "2016/6/27" "2016/10/4")
   (make-srfi 138 'final "Compiling Scheme programs to executables" "Marc Nieper-Wißkirchen" "2016/7/6" "2016/9/28")
   (make-srfi 139 'final "Syntax parameters" "Marc Nieper-Wißkirchen" "2016/7/7" "2016/10/2")
   (make-srfi 140 'draft "Immutable Strings" "Per Bothner" "2016/7/11")
   (make-srfi 141 'final "Integer division" "Taylor Campbell, John Cowan" "2016/8/29" "2016/12/14")
   (make-srfi 142 'draft "Bitwise Operations" "John Cowan" "2016/9/20")
   (make-srfi 143 'draft "Fixnums" "John Cowan" "2016/9/20")
   (make-srfi 144 'draft "Flonums" "John Cowan" "2016/9/20")
   (make-srfi 145 'draft "Assumptions" "Marc Nieper-Wißkirchen" "2016/12/18")
   (make-srfi 146 'draft "Mappings" "Marc Nieper-Wißkirchen" "2016/12/18")
   (make-srfi 147 'draft "Custom macro transformers" "Marc Nieper-Wißkirchen" "2016/12/24")
   (make-srfi 148 'draft "Composable macros" "Marc Nieper-Wißkirchen" "2016/12/31")
   (make-srfi 149 'draft "Basic Syntax-rules Template Extensions" "Marc Nieper-Wißkirchen" "2017/1/1")
   (make-srfi 150 'draft "Hygienic ERR5RS Record Syntax (reduced)" "Marc Nieper-Wißkirchen" "2017/1/2")))

;; This is the first SRFI whose email archive was hosted first on
;; Simplelists.  SRFI with smaller numbers were originally hosted on
;; Michael Sperber's FreeBSD system, so the archive links are different.
(define first-simplelists-srfi 122)

(define srfi-no-post-mail '(104 117 118 120 121))

(define srfi-assoc
  (association-procedure = srfi/number))

(define (create-github-repository number)
  (let ((description (srfi/title (srfi-assoc number srfis))))
    (run-shell-command
     (format #f
	     "curl -i -H 'Authorization: token ~A' -d '{ \"name\": \"srfi-~A\", \"description\": \"~A\", \"has_issues\": false, \"has_wiki\": false }' ~A~%"
	     github-authorization-token
	     number
	     description
	     github-api-srfi-repos))))